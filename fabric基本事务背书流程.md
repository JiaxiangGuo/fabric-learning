# 2. 基本事务背书流程

下面我们概述一个事务的上层请求流程。

**备注**：请注意，以下协议并不假定*所有事务都是确定性的，即允许非确定性事务*。

## 2.1. 客户端创建一个事务并将其发送给选择的背书peer节点

为了调用一个事务，客户端发送一个`PROPOSE`消息给它所选择的一组背书peer节点（可能不是同一时间发送 - 见2.1.2节和2.3节）。一个给定的`chaincodeID`的背书peer节点的集合经由peer节点被提供给客户端，该peer节点又从背书策略（参见第3节）知道背书peer节点的集合。例如，事务可以发送给给定`chaincodeID`的所有背书节点。也就是说，一些背书节点可能会离线，其他节点可能会反对，并选择不对事务背书。提交客户端尝试满足可用的背书节点的背书策略表达式。

在下文中，我们首先详细介绍`PROPOSE`消息格式，然后讨论提交客户端和背书节点之间可能的交互模式。

## 2.1.1. `PROPOSE`消息格式

`PROPOSE`消息的格式为`<PROPOSE,tx,[anchor]>`，其中`tx`是必要参数，`anchor`是可选参数。

- `tx=<clientID,chaincodeID,txPayload,timestamp,clientSig>`，其中：

    - `clientID`是提交客户端的ID；
    
    - `chaincodeID`是指事务所属的链代码的ID；

    - `txPayload`是包含提交的事务本身的有效数据载体；
  
